<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TinyLink Stats</title>
<style>
body { font-family: Arial; background: #eef; margin: 20px; }
.container { background: white; padding: 20px; border-radius: 10px; max-width: 600px; margin: auto; }
</style>
</head>
<body>

<div class="container">
  <h2>ðŸ“Š TinyLink Statistics</h2>
  <p id="info"></p>
  <a href="index.html">â¬… Back to Dashboard</a>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const code = params.get("code");

fetch(`/api/links`)
  .then(res => res.json())
  .then(data => {
    const link = data.find(item => item.code === code);
    if (!link) return document.getElementById("info").innerHTML = "<b>Not found</b>";
    document.getElementById("info").innerHTML =
      `<b>Code:</b> ${link.code}<br>
       <b>Target:</b> ${link.target}<br>
       <b>Clicks:</b> ${link.clicks}<br>
       <b>Last Clicked:</b> ${link.last_clicked ?? "Never"}<br>`;
  });
</script>

</body>
</html>
